<!DOCTYPE html>
<html>
  <head>
    <title>ArcGIS Basemap</title>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.3/leaflet.css" />
	<style>
	html, body,  #map {
		width : 100%;
		height : 100%;        	
	}
	</style>
	<script src="http://cdn.leafletjs.com/leaflet-0.6.3/leaflet.js"></script>
    <script src="http://esri.github.io/esri-leaflet/lib/esri-leaflet/esri-leaflet.js"></script>
	<script src="texas.geo.json" type="text/javascript"></script>
  </head>
  <body>    
	<div id="map"></div>
    <script>
      var map = L.map('map', {
      		center : [31, -100],
      		zoom : 6
      	});
	  
      // ArcGIS Online Basemaps - Streets, Topographic, Gray, GrayLabels, Oceans, NationalGeographic, Imagery, ImageryLabels	  
	  L.esri.basemapLayer("Gray").addTo(map);	  
	  L.esri.basemapLayer("GrayLabels").addTo(map);

	  L.geoJson(texas, {
	  	onEachFeature : function (feature, layer) {
	  		layer.bindPopup(feature.properties.name);
	  	}}
		).addTo(map);
	  
	  
      function onLocationFound(e) {
        var radius = e.accuracy / 2;
        L.marker(e.latlng).addTo(map).bindPopup("You are within " + radius + " meters from this point").openPopup();
        L.circle(e.latlng, radius).addTo(map);
      }

      function onLocationError(e) {
        alert(e.message);
      }

      //map.on('locationfound', onLocationFound);
      //map.on('locationerror', onLocationError);

      //map.locate({setView: true, maxZoom: 16});
    </script>
  </body>
</html>